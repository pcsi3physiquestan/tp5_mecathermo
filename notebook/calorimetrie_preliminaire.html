
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>8. Préliminaires &#8212; TP Mécanique et Thermodynamique</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8e5499552300ddf5d7adccae7cc3b70.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="canonical" href="https://pcsi3physiquestan.github.io/tp5_mecathermo/notebook/calorimetrie_preliminaire.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9. Travaux pratiques" href="calorimetrie_tp.html" />
    <link rel="prev" title="7. Utilisation du logiciel CINERIS" href="ann_cineris.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      <h1 class="site-logo" id="site-title">TP Mécanique et Thermodynamique</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tp5_mecathermo.html">
   Mécanique et thermodynamique
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Pendule pesant
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="pendule_preliminaire.html">
   1. Préliminaires
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pendule_tp.html">
   2. Travaux pratiques
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Oscillations forcées
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="oscillations_preliminaire.html">
   3. Préliminaires
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="oscillations_tp.html">
   4. Travaux pratiques
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Chute libre
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="chute_preliminaire.html">
   5. Préliminaires
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chute_tp.html">
   6. Travaux pratiques
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ann_cineris.html">
   7. Utilisation du logiciel CINERIS
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Calorimétrie
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   8. Préliminaires
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="calorimetrie_tp.html">
   9. Travaux pratiques
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Changements d'état
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="chgetat_preliminaire.html">
   10. Préliminaires
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="chgetat_tp.html">
   11. Travaux pratiques
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <a href="https://www.cedriclacpatia.fr">Site de la classe</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/notebook/calorimetrie_preliminaire.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebook/calorimetrie_preliminaire.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/notebook/calorimetrie_preliminaire.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#description-generale">
   8.1. Description générale
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methode-electrique">
   8.2. Méthode électrique
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methode-des-melanges">
   8.3. Méthode des mélanges
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sonde-de-temperature">
   8.4. Sonde de température
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#systeme-d-acquisition">
   8.5. Système d’acquisition
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#utilisation-du-microcontrolleur">
     8.5.1. Utilisation du microcontrolleur
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#branchements">
       8.5.1.1. Branchements
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#programmation-de-la-carte">
       8.5.1.2. Programmation de la carte
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#acquisition-grace-a-python">
     8.5.2. Acquisition grâce à Python
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#modification-du-programme-python">
       8.5.2.1. Modification du programme Python
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#test">
       8.5.2.2. Test
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="preliminaires">
<h1><span class="section-number">8. </span>Préliminaires<a class="headerlink" href="#preliminaires" title="Permalink to this headline">¶</a></h1>
<p>Ce TP comporte deux parties: d’une part l’étude du changement d’état liquide-vapeur du SF6 et d’autre part de la calorimétrie. L’organisation globale du TP nécessite une mise en commun. Faire deux groupes de deux binômes (=groupe de deux élèves). Dans chaque groupe, décidez quel binôme commence par la calorimétrie, et quel binôme commence par les changements d’état. La calorimétrie sera traitée identiquement par les deux groupes.</p>
<p>La première partie du TP durera 1h30 puis inversion des binômes. La seconde durera aussi 1h30. La dernière heure devra servir à la mise en commun et à l’exploitation des résultats.</p>
<div class="section" id="description-generale">
<h2><span class="section-number">8.1. </span>Description générale<a class="headerlink" href="#description-generale" title="Permalink to this headline">¶</a></h2>
<p>Pour l’ensemble du TP, les mesures seront effectuées au sein d’un calorimètre: dispositif permettant d’isoler thermiquement de l’extérieur ce qui est placé à l’intérieur. Il est constitué d’un vase en verre double paroi brillantée sous vide d’air, recouvert d’une enveloppe extérieure en plastique (NE PAS RETIRER L’ENVELOPPE PLASTIQUE!) et d’un couvercle de fermeture. Le couvercle dispose d’un petit trou pour pouvoir y glisser une sonde de température. L’ensemble est également muni d’un agitateur permettant d’homogénéiser les fluides introduis dans le calorimètre. Enfin, un dispositif de thermoplongeurs (résistances plongeantes ne devant fonctionner que sous l’eau) peut être installé sur le couvercle.</p>
<p>Dans tout le TP, par calorimètre, on considérera l’enceinte fermée et calorifugée constituée du vase intérieur, des protections plastiques et des accessoires nécessaires aux mesures et à cette expérience (thermomètre, agitateur, thermoplongeur). Le thermomètre utilisé sera une résistance électrique.</p>
</div>
<div class="section" id="methode-electrique">
<h2><span class="section-number">8.2. </span>Méthode électrique<a class="headerlink" href="#methode-electrique" title="Permalink to this headline">¶</a></h2>
<p>Le calorimètre possède une capacité thermique <span class="math notranslate nohighlight">\(C_{cal}\)</span>, éventuellement non négligeable devant celle du système placé à l’intérieur. Il est donc nécessaire de la mesurer avant toute autre chose. On propose l’utilisation de la méthode électrique. On notera <span class="math notranslate nohighlight">\(c_{eau}\)</span> la capacité thermique massique de l’eau liquide.</p>
<p>On place dans le calorimètre une masse <span class="math notranslate nohighlight">\(m_{eau}\)</span> connu d’eau et on laisse l’ensemble {calorimètre+eau} établir un équilibre thermique à la température <span class="math notranslate nohighlight">\(T_i\)</span>. On place alors une résistance R au sein du liquide et on l’alimente pendant un temps <span class="math notranslate nohighlight">\(\Delta t\)</span> par une tension U constante. On mesure alors la température finale <span class="math notranslate nohighlight">\(T_f\)</span> lorsque celle-ci s’est stabilisée.</p>
<p>Un bilan enthalpique (la transformation est monobare entre deux états d’équilibre) entre l’instant initial <span class="math notranslate nohighlight">\(t_i\)</span> et l’instant final <span class="math notranslate nohighlight">\(t_f\)</span> permet d’écrire:</p>
<div class="amsmath math notranslate nohighlight" id="equation-58a8dc3d-7e14-474f-b791-3da213afdba9">
<span class="eqno">(8.1)<a class="headerlink" href="#equation-58a8dc3d-7e14-474f-b791-3da213afdba9" title="Permalink to this equation">¶</a></span>\[\begin{equation}
  (C_{cal}+m_{eau} c_{eau})(T_f-T_i)=\frac{U^2}{R}(t_f-t_i)
\end{equation}\]</div>
<p>Si le chauffage est suffisamment lent, on peut alors supposer la transformation quasi-statique et la relation précédente sera vraie durant toute la transformation:</p>
<div class="amsmath math notranslate nohighlight" id="equation-eea1c01a-e871-4cea-8a6c-de3d3db1dc7f">
<span class="eqno">(8.2)<a class="headerlink" href="#equation-eea1c01a-e871-4cea-8a6c-de3d3db1dc7f" title="Permalink to this equation">¶</a></span>\[\begin{equation}
  (C_{cal}+m_{eau} c_{eau})(T(t) -T_i)=\frac{U^2}{R}(t-t_i) 
\end{equation}\]</div>
</div>
<div class="section" id="methode-des-melanges">
<h2><span class="section-number">8.3. </span>Méthode des mélanges<a class="headerlink" href="#methode-des-melanges" title="Permalink to this headline">¶</a></h2>
<p>Pour mesurer la chaleur latente de fusion de la glace, on va mélanger un système {eau + calorimètre} à la température <span class="math notranslate nohighlight">\(T_1\)</span> avec une masse <span class="math notranslate nohighlight">\(m_{glace}\)</span> de glace à la température de fusion <span class="math notranslate nohighlight">\(T_{fus}(Patm)=0^{\circ}\rm{C}\)</span>.</p>
<p>En travaillant sur une transformation fictive (fonte isotherme totale des glaçons puis mise à l’équilibre thermique des deux systèmes), le bilan enthalpique s’écrit:</p>
<div class="amsmath math notranslate nohighlight" id="equation-b21b9d19-7af9-4202-ba9f-2eb1d1b00c15">
<span class="eqno">(8.3)<a class="headerlink" href="#equation-b21b9d19-7af9-4202-ba9f-2eb1d1b00c15" title="Permalink to this equation">¶</a></span>\[\begin{equation}
  m_{glace} l_{f,glace} + m_{glace} c_{eau} (T_f -T_{fus})+(C_{cal}+c_{eau} m_{eau}) (T_f -T_1)=0
\end{equation}\]</div>
</div>
<div class="section" id="sonde-de-temperature">
<h2><span class="section-number">8.4. </span>Sonde de température<a class="headerlink" href="#sonde-de-temperature" title="Permalink to this headline">¶</a></h2>
<p>La mesure de la température sera réalisée par une sonde CTN plongée dans l’eau qui peut-être fixée dans le calorimètre. La sonde est une une thermistance, c’est-à-dire une résistance dont la valeur <span class="math notranslate nohighlight">\(R(T)\)</span> dépend de la température. L’étude de la thermistance montre que la résistance suit le modèle :</p>
<div class="math notranslate nohighlight">
\[
R(T) = R_0 \exp \left(\beta \left(\frac{1}{T} - \frac{1}{T_0}\right)\right)
\]</div>
<p>avec <span class="math notranslate nohighlight">\(R_0 = 10 \rm{k\Omega}; \beta = 2836 \rm{K}\)</span> et <span class="math notranslate nohighlight">\(T_0 = 323 \rm{K}\)</span>.</p>
<p>Le constructeur a déjà monté la thermistance en série avec une résistance <span class="math notranslate nohighlight">\(R_1 = 10 \rm{k\Omega}\)</span> formant ainsi un pont diviseur de tension. Le principe d’utilisation de la thermistance consiste à alimenter le pont diviseur avec une tension <span class="math notranslate nohighlight">\(E_0\)</span> puis mesurer soit la tension aux bornes de la thermistance, soit la tension aux bornes de <span class="math notranslate nohighlight">\(R_1\)</span>. Dans le montage réalisé ici, c’est la tension aux bornes de <span class="math notranslate nohighlight">\(R_1\)</span> qui est mesurée. Une étude du pont diviseur de tension permet d’obtenir la valeur de <span class="math notranslate nohighlight">\(R(T)\)</span> à partir de la valeur mesurée de <span class="math notranslate nohighlight">\(u_{R_1}\)</span>.</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
u_{R_1} &amp;= \frac{R_1}{R_1 + R(T)} E\\
R(T) &amp;= R_1 \left(\frac{E}{u_{R_1}} - 1\right)
\end{align*}\]</div>
<p>La température (<strong>en K</strong>)se déduit alors :</p>
<div class="math notranslate nohighlight">
\[
T = {\left(\frac{1}{T_0} + \frac{1}{\beta} \ln \frac{R}{R_0}\right)}^{-1}
\]</div>
</div>
<div class="section" id="systeme-d-acquisition">
<h2><span class="section-number">8.5. </span>Système d’acquisition<a class="headerlink" href="#systeme-d-acquisition" title="Permalink to this headline">¶</a></h2>
<p>Des systèmes d’acquisition complets existent mais nous allons utiliser ici un système “fait maison” pour comprendre les différents éléments d’un système d’acquisition. C’est aussi l’occasion de manipuler un microcontrolleur.</p>
<p>Le système d’acquisition sera séparé en deux parties :</p>
<ul class="simple">
<li><p>un <a class="reference internal" href="#arduino-carte"><span class="std std-ref">microcontrolleur Arduino</span></a> muni d’un <a class="reference internal" href="#arduino-grove"><span class="std std-ref">shield Grove</span></a> pour faciliter le branchement de la sonde. Une fois programmé, le microcontrolleur aura pour rôle :</p>
<ul>
<li><p>d’alimenter le pont diviseur avec une tension <span class="math notranslate nohighlight">\(E_0 = 5V\)</span></p></li>
<li><p>de mesurer la tension (grandeur analogique) aux bornes de <span class="math notranslate nohighlight">\(R_1\)</span> puis la convertir en un nombre (représentation binaire de la tension, c’est une conversion analogique numérique) entre 0 (correspondant à 0V) et 1023 (correspondant à 5V).</p></li>
<li><p>d’envoyer ce nombre à l’ordinateur (sous forme de chaine de caractère)</p></li>
</ul>
</li>
<li><p>un ordinateur et plus précisément un script Python (à ouvrir avec Pyzo) qui a pour rôle :</p>
<ul>
<li><p>de récupérer les mesures envoyées par Arduino</p></li>
<li><p>de calculer la température correspondant à la tension mesurée</p></li>
<li><p>d’afficher sur un graphique en temps réel l’évolution de T.</p></li>
<li><p>d’enregistrer à la fin de l’acquisition les données dans un fichier.</p></li>
</ul>
</li>
</ul>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-body docutils">
<div class="figure align-center" id="arduino-carte">
<img alt="../_images/arduino_carte.jpg" src="../_images/arduino_carte.jpg" />
<p class="caption"><span class="caption-number">Fig. 8.1 </span><span class="caption-text">Carte Arduino</span><a class="headerlink" href="#arduino-carte" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-body docutils">
<div class="figure align-center" id="arduino-grove">
<img alt="../_images/arduino_grove.jpg" src="../_images/arduino_grove.jpg" />
<p class="caption"><span class="caption-number">Fig. 8.2 </span><span class="caption-text">Shield Grove</span><a class="headerlink" href="#arduino-grove" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="utilisation-du-microcontrolleur">
<span id="arduino-pres"></span><h3><span class="section-number">8.5.1. </span>Utilisation du microcontrolleur<a class="headerlink" href="#utilisation-du-microcontrolleur" title="Permalink to this headline">¶</a></h3>
<div class="section" id="branchements">
<h4><span class="section-number">8.5.1.1. </span>Branchements<a class="headerlink" href="#branchements" title="Permalink to this headline">¶</a></h4>
<p>Les branchements sont simplifiées par l’utilisation du shield Grove.</p>
<ol class="simple">
<li><p>Si ce dernier n’est pas déjà fixé sur la carte Arduino. Placez le shield sur la carte. <strong>Faire attention à ce que les broches soient bien placées au dessus des trous des bornes avant d’enfoncer la carte de manière à ne pas tordre une broche, ce qui conduirait à un disfonctionnement de la carte (fragile).</strong></p></li>
<li><p>Le microcontrolleur Arduino peut réaliser deux types de mesures : des mesures logiques (0 ou 1) à l’aide des entrées D1, D2, … et des mesures analogiques (tension entre 0 et 5V) grâce aux bornes A0, A1, … On utilisera donc ces dernières. Brancher la connectique de la sonde (appelée connectique Grove) sur l’une des entrées analogiques (PIN) en notant le numéro (A0, A1, …) correspondant.</p></li>
<li><p>Installer la sonde dans le montage voulu (ici le montage de calorimétrie) puis brancher la carte Arduino à l’ordinateur. La carte devrait s’allumer signalant qu’elle alimentée.</p></li>
</ol>
</div>
<div class="section" id="programmation-de-la-carte">
<h4><span class="section-number">8.5.1.2. </span>Programmation de la carte<a class="headerlink" href="#programmation-de-la-carte" title="Permalink to this headline">¶</a></h4>
<p>Pour l’instant, le microcontrolleur est alimenté mais il ne remplit pas son rôle, il réalise le dernier programme enregistré qui n’est probablement pas le bon. Il faut <em>programmer le microcontrolleur</em> en <em>téléversant</em> un programme dans sa mémoire.</p>
<p>La syntaxe utilisée par les microcontrolleurs Arduino est un dérivé du C++ et il n’est pas nécessaire de comprendre ce langage pour le TP. Vous devez par contre téléverser le programme dans Arduino.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Le logiciel Arduino sera disponible sur les ordinateurs de la salle de TP. Sachez néanmoins qu’il est libre et peut-être <a class="reference external" href="https://www.arduino.cc/en/software">télécharger</a> sur le site officiel et installé sur votre propre ordinateur.</p>
<p><em>Attention, si vous désirez utiliser votre propre ordinateur pour brancher la carte Arduino en TP. Il faudra installer la bibliothèque <code class="docutils literal notranslate"><span class="pre">pyserial</span></code> qui n’est pas installée par défaut par Anaconda.</em> La procédure d’installation n’est pas donnée ici.</p>
</div>
<ol class="simple">
<li><p>Sur le <a class="reference external" href="https://stanislas.edunao.com/mod/folder/view.php?id=13511&amp;forceview=1">site</a>, télécharger le dossier complet. Vous y trouvez deux programmes Python sur lesquels nous reviendrons par la suite et un dossier <code class="docutils literal notranslate"><span class="pre">sonde_ctn</span></code> contenant un fichier <code class="docutils literal notranslate"><span class="pre">.ino</span></code> : c’est le programme que vous allez téléverser dans la carte.</p></li>
<li><p>Ouvrir le logiciel Arduino puis ouvrir le fichier <code class="docutils literal notranslate"><span class="pre">sonde_ctn.ino</span></code> que vous venez de télécharger.</p></li>
<li><p>Il n’est pas nécessaire de comprendre ce programme, vous devez juste repérer la ligne où est définie le PIN de de branchement de la sonde (A0, A1…). Remplacer le par celui où vous avez branché la sonde.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Vérifier</span></code> que le programme est correct (premier bouton de la barre d’outil). S’il n’y a pas de message d’erreur, passez à l’étape suivante, sinon appeler l’enseignant.</p></li>
<li><p>Dans <code class="docutils literal notranslate"><span class="pre">Outils</span> <span class="pre">&gt;</span> <span class="pre">Port</span></code>, choisir celui proposé correspondant à la carte Arduino. Notez au passage son nom car vous pourriez en avoir besoin pour la partie Python.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Téléverser</span></code> ensuite votre programme dans la carte (deuxième bouton de la barre d’outil).</p></li>
<li><p>S’il n’y a pas d’erreur, votre carte a commencé à envoyer les mesures de température ainsi que l’intervalle de temps entre deux mesures. Vous pouvez le vérifier en ouvrant le moniteur série (bouton tout à gauche de la barre d’outil) puis choisir 115200 baud dans le menu en bas à droite. Vous devriez voir s’afficher les mesures de temps et de température.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>L’acquisition par un microcontrolleur se fait toujours de la même manière :</p>
<ul class="simple">
<li><p>Alimention du capteur si nécessaire</p></li>
<li><p>Mesure (analogique ou numérique) de la grandeur voulue</p></li>
<li><p>Traitement de la grandeur si nécessaire (le cas si la mesure est numérique)</p></li>
<li><p>Envoi de la donnée ou utilisation (si le microcontrolleur doit contrôler un actionneur)</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="acquisition-grace-a-python">
<h3><span class="section-number">8.5.2. </span>Acquisition grâce à Python<a class="headerlink" href="#acquisition-grace-a-python" title="Permalink to this headline">¶</a></h3>
<p>On pourrait se limiter au moniteur série pour recueillir la température initiale et finale mais on va faire mieux au moyen de Python : on va afficher en temps réel</p>
<p>La bibliothèques <code class="docutils literal notranslate"><span class="pre">pyserial</span></code> permet à un script Python de se connecter à un port série (entrée de l’ordinateur pemettant la communication avec un appareil, ici Arduino) pour les données envoyées par le microcontrolleur. On ne présente pas ici le fonctionnement de cette bibliothèque.</p>
<p>Dans le dossier que vous avez téléchargé, vous trouverez deux fichiers Python :</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">scope.py</span></code> contient la fonction qui utilise la bibliothèque <code class="docutils literal notranslate"><span class="pre">pyserial</span></code> pour lire les données et un objet Scope qui va gérer l’affichage en temps réel des mesures sur un graphique. Ce fichier <strong>n’est à modifier sous aucun pretexte.</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">acquisition_duino.py</span></code> contient les fonctions permettant d’obtenir la température à partir des données renvoyées puis d’afficher <span class="math notranslate nohighlight">\(T(t)\)</span>. C’est <strong>ce fichier que vous allez devoir modifier en partie puis exécuter.</strong></p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Le fichier que vous exécuterez fait appel au premier. Il <strong>faut donc que les deux fichiers soient bien enregistrés dans le même répertoire.</strong></p>
</div>
<div class="section" id="modification-du-programme-python">
<h4><span class="section-number">8.5.2.1. </span>Modification du programme Python<a class="headerlink" href="#modification-du-programme-python" title="Permalink to this headline">¶</a></h4>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Environnement python
<strong>Lorsque vous lancez pyzo, allez dans <code class="docutils literal notranslate"><span class="pre">Shell</span></code> puis <code class="docutils literal notranslate"><span class="pre">Configuration</span> <span class="pre">des</span> <span class="pre">shells</span></code> et dans le menu déroulant <code class="docutils literal notranslate"><span class="pre">exe</span></code>, choisir le chemin vers l’executable python contenant <code class="docutils literal notranslate"><span class="pre">envprepa</span></code>.</strong> Sans quoi, vous n’aurez pas accès à la bibliothèques <code class="docutils literal notranslate"><span class="pre">pyserial</span></code>.</p>
</div>
<p>La majeure partie du programme est déjà écrite. Elle est divisée en trois parties :</p>
<ol class="simple">
<li><p>Les fonctions permettant de passer de la représentation binaire à la tension en volt (<code class="docutils literal notranslate"><span class="pre">CNA</span></code>), de la tension <span class="math notranslate nohighlight">\(u\)</span> à la résistance <span class="math notranslate nohighlight">\(R(T)\)</span> (<code class="docutils literal notranslate"><span class="pre">Rdiv</span></code>) puis de la valeur de la résistance à la température <span class="math notranslate nohighlight">\(T\)</span> (<code class="docutils literal notranslate"><span class="pre">Tth</span></code>).</p>
<ul class="simple">
<li><p>Modifier les valeurs numériques des différentes grandeurs en fonction des données précédentes.</p></li>
<li><p>Modifir la durée d’observation <code class="docutils literal notranslate"><span class="pre">t_obs</span></code> et le nom du fichier <code class="docutils literal notranslate"><span class="pre">nom_fichier</span></code> dans lequel les données seront enregistrées (pensez à modifier ces deux grandeurs pour chaque acquisition pour éviter d’écraser un précédent fichier).</p></li>
<li><p>Modifier les trois fonctions pour qu’elles renvoient bien ce qu’on attend.</p></li>
</ul>
</li>
<li><p>Une fonction <code class="docutils literal notranslate"><span class="pre">read_data</span></code> qui va gérer la lecture du port série et le calcul de la température grâce aux fonctions précédentes. Cette partie n’est pas à modifier.</p></li>
<li><p>Un tracé en temps réel. Cette partie n’est pas non plus à modifier.</p></li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Une fois l’exécution du script lancé, vous ne pourrez plus modifié les paramètres et l’acquisition est longue donc vérifiez que tout est bon avant de lancer le programme.</p>
</div>
</div>
<div class="section" id="test">
<h4><span class="section-number">8.5.2.2. </span>Test<a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h4>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Test du programme
Avant de réaliser l’acquisition de 15 minutes comme demandé dans le TP, lancer une acquisition de quelques secondes une fois le montage réalisé pour vérifier que le programme fonctionne correctement.</p>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebook"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="ann_cineris.html" title="previous page"><span class="section-number">7. </span>Utilisation du logiciel CINERIS</a>
    <a class='right-next' id="next-link" href="calorimetrie_tp.html" title="next page"><span class="section-number">9. </span>Travaux pratiques</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By C. Lacpatia<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>